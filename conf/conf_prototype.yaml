defaults:
  - dset: dataset_prototype  # ä½¿ç”¨ç²¾ç°¡çš„æ•¸æ“šé›†é…ç½®
  - _self_

# ğŸš€ Prototype é…ç½® - é‡å° MacBook Air M3 16GB RAM å„ªåŒ–
path_experiment: "experiments/prototype" 
tensorboard_logs: "experiments/tensorboard_logs"

# Dataset related
fs: 44100
seg_len_s_train: 3  # ç¸®çŸ­ç‰‡æ®µé•·åº¦ï¼š5â†’3 ç§’ï¼ˆåŠ å¿«è¨“ç·´ï¼‰
freq_inference: 3   # æ¯ 3 å€‹ epoch æ¨è«–ï¼ˆæ¸›å°‘ I/O å’Œè¨ˆç®—è² æ“”ï¼‰
seg_len_s_test: 8   # é€²ä¸€æ­¥ç¸®çŸ­ï¼š15â†’8 ç§’ï¼ˆç¯€çœè¨˜æ†¶é«”ï¼‰
num_test_segments: 3   # é€²ä¸€æ­¥æ¸›å°‘ï¼š15â†’3ï¼ˆåŠ å¿«æ¨è«–ï¼‰
num_real_test_segments: 1  # åªæ¸¬è©¦ 1 å€‹çœŸå¯¦éŒ„éŸ³ï¼ˆç¯€çœæ™‚é–“ï¼‰
buffer_size: 100  # æ¸›å°‘ bufferï¼š1000â†’100ï¼ˆç¯€çœè¨˜æ†¶é«”ï¼‰

# Dataset Augmentation
overlap: 0

# Logging
verbose: 1  # å¢åŠ  verbose ä»¥ä¾¿è§€å¯Ÿé€²åº¦
use_tensorboard: True
use_soft_denoising: False

num_workers: 2  # M3 å„ªåŒ–ï¼šæ¸›å°‘åˆ° 2ï¼ˆé¿å…å¤–æ¥ç¡¬ç¢Ÿ I/O ç“¶é ¸å’Œç†±ç¯€æµï¼‰

# Checkpointing
checkpoint: true
continue_from: ''
continue_best: false
only_inference: false

# Optimization - ä½¿ç”¨ç¨å¤§çš„å­¸ç¿’ç‡åŠ å¿«æ”¶æ–‚
optim: adam
lr: 2e-4  # ç¨å¾®å¢åŠ ï¼š1e-4â†’2e-4
variable_lr: True
beta1: 0.5
beta2: 0.9

loss: "mae"

# ğŸ”¥ é—œéµï¼šé‡å° MacBook Air M3 å„ªåŒ–
# ç¬¬å››æ¬¡è¨“ç·´ï¼šè€å¸«å»ºè­°å¢åŠ è¨“ç·´é‡çœ‹æ”¶æ–‚åº•ç·š
epochs: 20  # å¢åŠ åˆ° 20 å€‹ epochï¼ˆ8â†’20ï¼‰
batch_size: 4  # M3 å„ªåŒ–ï¼š16â†’4ï¼ˆ16GB RAM å®‰å…¨é…ç½®ï¼‰
val_take: -1
steps_per_epoch: 200  # å¢åŠ åˆ° 200 æ­¥ï¼ˆ80â†’200ï¼Œç”¨æ›´å¤šæ•¸æ“šï¼‰

sp:
  method: "wiener"

# STFT parameters
stft:
  win_size: 2048
  hop_size: 512

# inference param
inference:
  audio: None
  denoising_strength: 0.3  # 0.0=ç„¡é™å™ª(åŸå§‹), 1.0=å®Œå…¨é™å™ª(ç´”æ¨¡å‹è¼¸å‡º), 0.3=æº«å’Œé™å™ª(å»ºè­°)

# Model - MacBook Air M3 è¶…è¼•é‡æ¨¡å‹
model: unet
unet:
  activation: "elu"
  use_csff: False
  use_SAM: False  # é—œé–‰ SAMï¼ˆæ¸›å°‘è¨ˆç®—é‡ï¼‰
  use_cam: False
  use_fam: False
  use_fencoding: True
  use_tdf: False
  use_alttdfs: False
  num_tfc: 1  # é€²ä¸€æ­¥æ¸›å°‘ï¼š2â†’1ï¼ˆè¶…è¼•é‡ï¼‰
  num_stages: 2  # ä¿æŒ 2 éšæ®µ
  depth: 3  # é€²ä¸€æ­¥æ¸›å°‘ï¼š4â†’3ï¼ˆæ›´å°‘åƒæ•¸ï¼‰
  f_dim: 1025

# Hydra config
hydra:
  job:
    config:
      override_dirname:
        kv_sep: '='
        item_sep: ','
        exclude_keys: ['path_experiment',
          'hydra.job_logging.handles.file.filename']
