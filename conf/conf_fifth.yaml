# ğŸš€ ç¬¬äº”æ¬¡è¨“ç·´é…ç½® - æ¿€é€²é™å™ªç‰ˆï¼ˆæ–¹æ¡ˆAï¼‰
# ä¸ä¿®æ”¹ä»»ä½•ä»£ç¢¼ï¼Œåªèª¿æ•´åƒæ•¸ä¾†å¢å¼·é™å™ªæ•ˆæœ

defaults:
  - dset: dataset_prototype
  - _self_

path_experiment: "experiments/fifth_training" 
tensorboard_logs: "experiments/tensorboard_logs"

# Dataset related
fs: 44100
seg_len_s_train: 3
freq_inference: 5  # æ¯ 5 å€‹ epoch æ¨è«–ä¸€æ¬¡
seg_len_s_test: 8
num_test_segments: 3
num_real_test_segments: 1
buffer_size: 100

# Dataset Augmentation
overlap: 0

# Logging
verbose: 1
use_tensorboard: True
use_soft_denoising: False

num_workers: 2

# Checkpointing
checkpoint: true
continue_from: ''
continue_best: false
only_inference: false

# ğŸ”¥ é—œéµæ”¹é€² 1ï¼šå¢åŠ å­¸ç¿’ç‡ï¼Œè®“æ¨¡å‹æ›´æ¿€é€²
optim: adam
lr: 5e-4  # å¾ 2e-4 æé«˜åˆ° 5e-4ï¼ˆ2.5å€ï¼‰
variable_lr: True
beta1: 0.5
beta2: 0.9

loss: "mae"

# ğŸ”¥ é—œéµæ”¹é€² 2ï¼šåŠ å¼·è¨“ç·´å¼·åº¦
epochs: 25  # å¾ 20 å¢åŠ åˆ° 25
batch_size: 4
val_take: -1
steps_per_epoch: 250  # å¾ 200 å¢åŠ åˆ° 250

sp:
  method: "wiener"

# STFT parameters (å¿…éœ€é…ç½®)
stft:
  win_size: 2048
  hop_size: 512

# ğŸ”¥ é—œéµæ”¹é€² 3ï¼šæ¨è«–æ™‚ä½¿ç”¨æ›´å¼·çš„é™å™ª
inference:
  audio: "test_audio/test_2.wav"
  denoising_strength: 0.5  # å¾ 0.3 æé«˜åˆ° 0.5

# Model configuration
model: unet
unet:
  activation: "elu"
  use_csff: False
  use_SAM: True
  use_cam: False
  use_fam: False
  use_fencoding: True
  use_tdf: False
  use_alttdfs: False
  num_tfc: 1
  num_stages: 2
  depth: 3
  f_dim: 1025

# Hydra config
hydra:
  job:
    config:
      override_dirname:
        kv_sep: '='
        item_sep: ','
        exclude_keys: ['path_experiment',
          'hydra.job_logging.handles.file.filename']
